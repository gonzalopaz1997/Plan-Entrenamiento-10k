<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plan 10K Gonza üèÅ</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(180deg, #2b2b2b, #000);
    color: #fff;
    margin: 0;
    padding: 0;
  }
  header {
    text-align: center;
    padding: 20px;
    background: rgba(255,255,255,0.05);
  }
  h1 { color: #ffa31a; margin-bottom: 5px; }
  #countdown { font-size: 1.1rem; color: #ccc; }

  .container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }

  .card {
    background: rgba(255,255,255,0.05);
    border: 1px solid #333;
    border-radius: 15px;
    padding: 20px;
    margin: 15px 0;
    width: 90%;
    max-width: 600px;
    box-shadow: 0 0 15px rgba(255,165,0,0.1);
  }
  .card.completed { background: rgba(255,165,0,0.15); border-color: #ffa31a; }
  .date { color: #ffa31a; font-weight: bold; margin-bottom: 10px; white-space: pre-line; }
  .type { font-size: 1.2rem; margin-bottom: 5px; }
  .details { color: #ccc; margin-bottom: 15px; white-space: pre-line; }

  button {
    background: #ffa31a; border: none; border-radius: 10px;
    padding: 10px 20px; color: #000; font-weight: bold; cursor: pointer;
  }
  button:hover { background: #ffb84d; }

  .nav {
    display: flex;
    justify-content: space-between;
    width: 90%;
    max-width: 600px;
    margin-top: 15px;
  }

  .progress {
    margin-top: 15px;
    width: 90%;
    max-width: 600px;
    background: #333;
    border-radius: 8px;
    overflow: hidden;
  }
  .progress-bar {
    height: 10px;
    background: #ffa31a;
    width: 0%;
    transition: width 0.3s;
  }

  .summary {
    margin-top: 25px;
    width: 90%;
    max-width: 600px;
    background: rgba(255,255,255,0.05);
    border-radius: 10px;
    padding: 15px;
  }
  .summary h3 { color: #ffa31a; text-align: center; margin-bottom: 10px; }
  .summary-item { display: flex; justify-content: space-between; border-bottom: 1px solid #333; padding: 5px 0; color: #ccc; }
  .summary-item:last-child { border-bottom: none; }
</style>
</head>
<body>
<header>
  <h1>Plan 10K Gonza üèÅ</h1>
  <div id="countdown"></div>
</header>

<div class="container">
  <div id="day-card"></div>
  <div class="nav">
    <button id="prevDay">‚¨ÖÔ∏è Anterior</button>
    <button id="nextDay">Siguiente ‚û°Ô∏è</button>
  </div>
  <div class="progress"><div id="progressBar" class="progress-bar"></div></div>
  <div class="summary">
    <h3>Resumen Cronol√≥gico</h3>
    <div id="summaryList"></div>
  </div>
</div>

<script>
const raceDate = new Date("2025-11-14");
const plan = {
  "2025-10-20": {icon:"üèÉ‚Äç‚ôÇÔ∏è", type:"Cinta", details:"5 km suaves (6:00/km)\nInclinaci√≥n 1.5%\nFC zona 2-3"},
  "2025-10-21": {icon:"üí™", type:"Gimnasio", details:"Sentadillas 4x12\nPeso muerto 3x10\nCore 3x1min\nPlancha 3x40s"},
  // ... (mant√©n el resto igual que antes)
};
const completed = JSON.parse(localStorage.getItem("plan10kCompleted") || "[]");
let currentDate = new Date();

function getKey(date){ return date.toISOString().split("T")[0]; }
function formatDate(date){
  const dias = ["Domingo","Lunes","Martes","Mi√©rcoles","Jueves","Viernes","S√°bado"];
  const meses = ["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];
  return `${dias[date.getDay()]}\n${String(date.getDate()).padStart(2,"0")}-${meses[date.getMonth()]}-${date.getFullYear()}`;
}

function updateCountdown(){
  const hoy = new Date();
  const diff = Math.ceil((raceDate - hoy)/(1000*60*60*24));
  document.getElementById("countdown").textContent = diff>0 ? `‚è≥ Faltan ${diff} d√≠as para la carrera` : "üèÅ ¬°D√≠a de carrera!";
}

function showDay(date){
  const key = getKey(date);
  const day = plan[key];
  const card = document.getElementById("day-card");
  if(!day){ card.innerHTML="<div class='card'><p>No hay entrenamiento programado para hoy.</p></div>"; return; }
  const isCompleted = completed.includes(key);
  card.innerHTML = `
    <div class="card ${isCompleted?'completed':''}">
      <div class="date">${formatDate(new Date(key))}</div>
      <div class="type">${day.icon} ${day.type}</div>
      <div class="details">${day.details}</div>
      <button onclick="toggleComplete('${key}')">${isCompleted?'‚úÖ Completado':'Marcar completado'}</button>
    </div>`;
  updateProgress(); updateSummary();
}

function toggleComplete(key){
  const idx = completed.indexOf(key);
  if(idx>=0) completed.splice(idx,1); else completed.push(key);
  localStorage.setItem("plan10kCompleted",JSON.stringify(completed));
  showDay(currentDate);
}

function updateProgress(){
  const total = Object.keys(plan).length, done = completed.length;
  document.getElementById("progressBar").style.width = ((done/total)*100)+"%";
}

function updateSummary(){
  const s = document.getElementById("summaryList");
  s.innerHTML="";
  Object.keys(plan).forEach(k=>{
    const d = plan[k], done=completed.includes(k);
    s.innerHTML+=`<div class="summary-item"><span>${formatDate(new Date(k))} ‚Äì ${d.icon} ${d.type}</span><span>${done?'‚úÖ':'‚è≥'}</span></div>`;
  });
}

document.getElementById("prevDay").onclick=()=>{currentDate.setDate(currentDate.getDate()-1);showDay(currentDate);}
document.getElementById("nextDay").onclick=()=>{currentDate.setDate(currentDate.getDate()+1);showDay(currentDate);}
updateCountdown(); showDay(currentDate);
</script>
</body>
</html>
